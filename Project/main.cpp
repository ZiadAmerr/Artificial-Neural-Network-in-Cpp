//
//  main.cpp
//  Project
//
//  Created by Ziad Amerr on 04/12/2022.
//

#include <iostream>
#include "../NeuralNetworkCppOnly.cpp"


using namespace std;

double _dot(vector<double> weights, vector<double> activations) {
    double activation = 0;
    for(int i=0; i<weights.size(); i++)
        activation += weights.at(i)*activations.at(i);
    
    return activation;
}

int main(int argc, const char * argv[]) {
    vector<vector<double>> image = {
        {0, 1, 2, 3},
        {1, 2, 3, 4},
        {2, 3, 4, 5},
        {3, 4, 5, 6},
        {4, 5, 6, 7}
    };
    
    vector<int> NeuralNetworkParams = {
        20,
        10,
        5,
        10
    };
    
    NeuralNetwork myNetwork = NeuralNetwork(NeuralNetworkParams);
    
    // myNetwork.printNetwork("backward");
    
    myNetwork.predict(image);
    vector<vector<int>> activations = {
        {74, 169, 148, 145, 111, 157, 113, 101, 120, 126, 162, 113, 115, 110, 127, 115, 79, 143, 115, 109, 117, 163, 166, 115, 119, 88, 99, 83, 125, 124, 127, 124, 138, 134, 108, 157, 171, 111, 127, 153, 177, 125, 130, 129, 111, 140, 122, 178, 135, 138, 120, 176, 121, 128, 84, 114, 135, 119, 141, 149, 130, 104, 131, 135, 137, 104, 125, 83, 126, 156, 132, 156, 124, 169, 128, 165, 132, 96, 107, 168, 139, 102, 119, 120, 103, 105, 111, 113, 120, 125, 138, 126, 93, 132, 102, 122, 174, 165, 128, 142, 119, 126, 121, 109, 141, 158, 149, 103, 157, 153, 144, 125, 138, 150, 156, 137, 150, 114, 118, 113, 114, 117, 90, 135, 152, 134, 129, 156, 168, 101, 143, 169, 140, 104, 98, 149, 105, 141, 147, 86, 98, 151, 153, 132, 126, 132, 96, 138, 158, 147, 63, 158, 136, 124, 98, 121, 125, 114, 85, 130, 103, 67, 142, 76, 83, 136, 111, 110, 84, 159, 148, 131, 157, 130, 112, 114, 136, 111, 89, 74, 123, 146, 94, 128, 110, 109, 136, 140, 142, 142, 124, 101, 157, 192, 139, 129, 159, 170, 100, 96, 103, 193, 84, 70, 73, 133, 134, 142, 129, 172, 97, 100, 112, 90, 103, 119, 138, 138, 58, 140, 85, 110, 136, 171, 139, 102, 130, 136, 113, 117, 142, 101, 100, 153, 110, 86, 105, 136, 139, 69, 104, 121, 169, 110, 148, 95, 105, 121, 83, 103, 164, 157, 156, 139, 149, 158, 148, 134, 139, 149, 112, 150, 144, 165, 149, 149, 117, 141, 156, 143, 152, 105, 166, 153, 143, 111, 153, 123, 105, 127, 86, 103, 102, 104, 121, 116, 118, 147, 135, 101, 143, 134, 115, 154, 136, 95, 125, 125, 141, 108, 154, 174, 101, 95, 134, 135, 137, 120, 139, 127, 94, 142, 148, 89, 144, 149, 70, 158, 143, 126, 110, 120, 160, 124, 142, 79, 144, 121, 135, 141, 72, 101, 198, 104, 168, 129, 108, 140, 128, 122, 159, 94, 140, 124, 128, 127, 127, 140, 123, 105, 141, 146, 145, 122, 115, 103, 148, 122, 99, 137, 109, 152, 136, 138, 198, 113, 135, 147, 151, 143, 123, 118, 118, 87, 155, 127, 113, 114, 184, 125, 143, 135, 82, 109, 120, 146, 148, 121, 100, 101, 142, 75, 127, 144, 139, 119, 123, 149, 113, 160, 116, 140, 116, 167, 172, 211, 128, 50, 126, 93, 136, 101, 110, 239, 125, 132, 139, 108, 128, 116, 174, 119, 145, 174, 121, 133, 95, 138, 112, 101, 147, 162, 100, 105, 166, 144, 126, 135, 139, 97, 106, 117, 117, 109, 167, 153, 95, 93, 122, 140, 94, 94, 130, 118, 123, 100, 152, 124, 145, 111, 105, 145, 145, 112, 111, 110, 148, 141, 113, 149, 95, 134, 161, 156, 110, 125, 127, 93, 74, 119, 131, 152, 125, 156, 168, 90, 104, 123, 163, 128, 105, 135, 113, 131, 121, 115, 142, 144, 157, 127, 155, 133, 165, 123, 105, 112, 115, 175, 141, 75, 89, 111, 119, 122, 120, 137, 185, 109, 169, 139, 150, 136, 115, 135, 134, 161, 146, 123, 137, 140, 141, 158, 92, 137, 141, 130, 103, 126, 165, 91, 100, 103, 98, 125, 135, 110, 156, 82, 80, 112, 150, 167, 90, 160, 125, 130, 93, 156, 118, 154, 94, 147, 105, 139, 151, 120, 152, 142, 115, 110, 135, 156, 135, 141, 145, 121, 122, 142, 126, 108, 70, 79, 98, 121, 103, 114, 111, 127, 128, 122, 123, 138, 79, 133, 127, 172, 137, 140, 118, 105, 121, 114, 114, 124, 156, 119, 189, 121, 136, 165, 121, 130, 146, 145, 127, 134, 118, 121, 137, 97, 115, 100, 122, 85, 172, 134, 97, 106, 74, 114, 113, 109, 172, 138, 153, 81, 141, 100, 92, 178, 209, 121, 125, 114, 180, 124, 120, 118, 106, 147, 117, 95, 85, 109, 120, 173, 83, 105, 151, 122, 121, 117, 155, 186, 137, 101, 139, 102, 115, 91, 89, 119, 157, 123, 112, 137, 139, 79, 113, 95, 122, 124, 157, 124, 154, 171, 190, 98, 96, 106, 113, 101, 125, 141, 103, 163, 100, 177, 125, 131, 131, 123, 87, 141, 130, 148, 153, 126, 151, 139, 137, 151, 148, 100, 147, 144, 144, 149, 133, 139, 146, 127, 157, 101, 113, 135, 117, 112, 119, 148, 136, 148, 113, 67, 131, 122, 91, 119, 177, 112, 135, 144, 118, 152, 117, 108, 137, 112, 144, 145, 130, 126, 88, 113, 196, 112, 159, 162, 107, 144, 120, 139, 96, 132, 104, 135, 115, 163, 167, 109, 83, 136, 148, 104, 65, 139, 125, 120, 97, 155, 138, 134, 147, 93},
        {113, 253, 125, 53, 80, 12, 57, 195, 182, 157, 97, 133, 179, 116, 155, 242},
        {156, 98, 111, 162, 213, 245, 50, 151, 7, 197, 167, 165, 99, 249, 220, 78},
        {2, 15, 1, 1, 49, 6, 40, 126, 2, 7}
    };
    return 0;
}
